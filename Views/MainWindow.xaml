<Window x:Class="AtlasHub.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="{DynamicResource app.title}"
        Width="1280" Height="760"
        MinWidth="1080" MinHeight="650"
        WindowStartupLocation="CenterScreen">

    <Grid Background="{StaticResource BrushBg0}">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="250"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- SIDEBAR -->
        <Border Grid.Column="0"
                Background="#FF0E0E13"
                BorderBrush="#22FFFFFF"
                BorderThickness="0,0,1,0">
            <DockPanel>

                <!-- Brand -->
                <StackPanel DockPanel.Dock="Top" Margin="16,18,16,10">
                    <TextBlock Text="{DynamicResource app.title}"
                               FontSize="22"
                               FontWeight="SemiBold"/>
                    <TextBlock Text="{Binding ProfileDisplay}"
                               Margin="0,6,0,0"
                               Foreground="{StaticResource BrushFg1}"
                               FontSize="12"/>
                </StackPanel>

                <!-- Nav -->
                <StackPanel Margin="10,0,10,10">
                    <TextBlock Text="{DynamicResource sidebar.sprint1}" Style="{StaticResource SidebarSection}"/>

                    <ToggleButton Style="{StaticResource SidebarToggle}"
                                  Command="{Binding GoLiveCommand}"
                                  IsChecked="{Binding IsLive, Mode=OneWay}">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="📺" FontSize="14" Margin="0,0,10,0"/>
                            <TextBlock Text="{DynamicResource nav.live}" FontSize="14" FontWeight="SemiBold"/>
                        </StackPanel>
                    </ToggleButton>

                    <ToggleButton Style="{StaticResource SidebarToggle}"
                                  Command="{Binding GoMoviesCommand}"
                                  IsChecked="{Binding IsMovies, Mode=OneWay}"
                                  Margin="0,4,0,0">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="🎬" FontSize="14" Margin="0,0,10,0"/>
                            <TextBlock Text="{DynamicResource nav.movies}" FontSize="14" FontWeight="SemiBold"/>
                        </StackPanel>
                    </ToggleButton>

                    <ToggleButton Style="{StaticResource SidebarToggle}"
                                  Command="{Binding GoSeriesCommand}"
                                  IsChecked="{Binding IsSeries, Mode=OneWay}"
                                  Margin="0,4,0,0">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="📚" FontSize="14" Margin="0,0,10,0"/>
                            <TextBlock Text="{DynamicResource nav.series}" FontSize="14" FontWeight="SemiBold"/>
                        </StackPanel>
                    </ToggleButton>

                    <TextBlock Text="{DynamicResource sidebar.management}" Style="{StaticResource SidebarSection}"/>

                    <ToggleButton Style="{StaticResource SidebarToggle}"
                                  Command="{Binding GoSourcesCommand}"
                                  IsChecked="{Binding IsSources, Mode=OneWay}">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="🔗" FontSize="14" Margin="0,0,10,0"/>
                            <TextBlock Text="{DynamicResource nav.sources}" FontSize="14" FontWeight="SemiBold"/>
                        </StackPanel>
                    </ToggleButton>

                    <ToggleButton Style="{StaticResource SidebarToggle}"
                                  Command="{Binding GoSettingsCommand}"
                                  IsChecked="{Binding IsSettings, Mode=OneWay}"
                                  Margin="0,4,0,0">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="⚙️" FontSize="14" Margin="0,0,10,0"/>
                            <TextBlock Text="{DynamicResource nav.settings}" FontSize="14" FontWeight="SemiBold"/>
                        </StackPanel>
                    </ToggleButton>
                </StackPanel>

                <!-- Footer -->
                <StackPanel DockPanel.Dock="Bottom" Margin="16,10,16,16">
                    <Border Background="#10FFFFFF" CornerRadius="12" Padding="12">
                        <StackPanel>
                            <TextBlock Text="{DynamicResource footer.status}"
                                       FontWeight="SemiBold"
                                       FontSize="12"/>
                            <TextBlock Text="{DynamicResource footer.sprint1desc}"
                                       Foreground="{StaticResource BrushFg1}"
                                       FontSize="12"
                                       Margin="0,6,0,0"/>
                        </StackPanel>
                    </Border>
                </StackPanel>

            </DockPanel>
        </Border>

        <!-- MAIN -->
        <Grid Grid.Column="1" Margin="18">
            <Grid>
                <ContentPresenter Content="{Binding CurrentPage}"/>

                <!-- Toast -->
                <Border HorizontalAlignment="Right"
                        VerticalAlignment="Top"
                        Margin="0,4,4,0"
                        CornerRadius="12"
                        Padding="12"
                        Background="#E61A1A2A"
                        BorderBrush="#33FFFFFF"
                        BorderThickness="1"
                        Opacity="0"
                        IsHitTestVisible="False">
                    <Border.Style>
                        <Style TargetType="{x:Type Border}">
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding IsToastVisible}" Value="True">
                                    <DataTrigger.EnterActions>
                                        <BeginStoryboard>
                                            <Storyboard>
                                                <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                                                 To="1" Duration="0:0:0.18"/>
                                            </Storyboard>
                                        </BeginStoryboard>
                                    </DataTrigger.EnterActions>
                                    <DataTrigger.ExitActions>
                                        <BeginStoryboard>
                                            <Storyboard>
                                                <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                                                 To="0" Duration="0:0:0.22"/>
                                            </Storyboard>
                                        </BeginStoryboard>
                                    </DataTrigger.ExitActions>
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </Border.Style>

                    <TextBlock Text="{Binding ToastMessage}"
                               Foreground="{StaticResource BrushFg0}"
                               FontWeight="SemiBold"/>
                </Border>
            </Grid>
        </Grid>
    </Grid>
</Window>
